{% extends "base.html" %}
{% block content %}

    <div class="sidenav">
        <a href="/"><i class="fa fa-fw fa-home"></i>Home</a>
        <a href="devices"><i class="fa fa-fw fa-tablet"></i>Devices</a>
        <a class="active" href="temperature"><i class="fa fa-fw fa-thermometer-half"></i>Temperature</a>
        <a href="schedule"><i class="fa fa-fw fa-calendar"></i>Schedule</a>
    </div>
    
    <div class="temp-text">
                <p>Water Temperature</p>
            </div>
            
            <div class="up-wrapper">
                <form>
                <button class="button" onclick="tempUp()">Up</button>
                </form>
            </div>
            
            <div class="temp-wrapper">
                <p class=Temp id="Temperature":Temp>72</p>
            </div>

            <div class="down-wrapper">
                <form>
                <button class="button" onclick="tempDown()">Down</button>
                </form>
            </div>

            <div class="SetT">
                <button class="button" onclick="setTemp()">Set</button>
            </div>
    </div>
    
           <div class="stime">
          <form action="/timing" id="stime" method="POST">
            <label for="starttm" style="color: white;">Start Time:</label><br>
            <p><input id="starttm" type="text" name="starttm" value="" /></p>
          </form>
        </div>

        <div class="etime">
          <form action="/timing" id="etime" method="POST">
            <label for="endtm" style="color: white;">End Time:</label><br>
            <p><input id="endtm" type="text" name="endtm" value="" /></p>
          </form>
        </div>

        <div class="add">
          <button id="addButton" class="button">Add</button>
        </div>

      
          const addBtn = document.getElementById('addButton');
          const startInput = document.getElementById('starttm');
          const endInput = document.getElementById('endtm');
          const startForm = document.getElementById('stime');
          const endForm = document.getElementById('etime');

          addBtn.addEventListener('click', function() {
            console.log("event Listener");
            console.log(startInput.value);
            console.log(endInput.value);
           
            const formDataStart = new FormData(startForm);
            const formDataEnd = new FormData(endForm);
            fetch('/timing', {
              method: 'POST',
              body: formDataStart
            })
            .then(response => {
              if (!response.ok) {
                throw new Error('Network response was not ok');
              }
              return response.json();
            })
            .then(data => {
              console.log(data);
            })
            .catch(error => {
              console.error('There was a problem with the fetch operation:', error);
            });

            fetch('/timing', {
              method: 'POST',
              body: formDataEnd
            })
            .then(response => {
              if (!response.ok) {
                throw new Error('Network response was not ok');
              }
              return response.json();
            })
            .then(data => {
              console.log(data);
            })
            .catch(error => {
              console.error('There was a problem with the fetch operation:', error);
            });
          });

{% endblock %}
